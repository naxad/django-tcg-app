{% extends "home/base.html" %}
{% block title %}Grade your card{% endblock %}
{% block content %}
<div class="container my-5" style="max-width: 860px;">
  <h2 class="mb-3">Grade your card (AI preview)</h2>
  <p class="text-muted">
    Upload front optionally back photos of the card you want to grade. You’ll get per-category scores and a predicted PSA-style grade.
    This is an estimate for guidance only — not an official grade.
  </p>

  <form method="post" enctype="multipart/form-data" class="card p-3 shadow-sm">
    {% csrf_token %}
    <div class="mb-3">
      <label class="form-label">Card name (optional)</label>
      {{ form.card_name }}
    </div>
    <!-- REQUIRED: Set code (PTCGO) + Collector number -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3">
      <div>
        <label for="id_ptcgo_code" class="block text-sm font-medium">Set code (required)</label>
        <input id="id_ptcgo_code" name="ptcgo_code" required
              class="w-full input"
              placeholder="e.g. SVI, PAR, TEF, EVS, SM12, CRZ" list="ptcgo-codes">
        <!-- Optional quick suggestions -->
        <datalist id="ptcgo-codes">
          <option value="SVI"><option value="PAL"><option value="OBF"><option value="PAR">
          <option value="TEF"><option value="TWM"><option value="SFA"><option value="SCR">
          <option value="SSP"><option value="PRE"><option value="SV151">
          <option value="BRS"><option value="EVS"><option value="CRZ"><option value="SM12">
        </datalist>
        <p class="text-xs text-gray-500 mt-1">Short set code from the card (PTCGO style).</p>
      </div>

      <div>
        <label for="id_collector_number" class="block text-sm font-medium">Collector number (required)</label>
        <input id="id_collector_number" name="collector_number" required
              class="w-full input" placeholder="e.g. 161/236 or 045">
        <p class="text-xs text-gray-500 mt-1">Printed collector number on the card.</p>
      </div>
    </div>

    <select name="game" required>
      <option value="pokemon">Pokémon</option>
      <option value="one_piece">One Piece</option>
      <option value="mtg">Magic: The Gathering</option>
    </select>




    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Front image *</label>
        <input type="file" name="front_image" accept="image/*" required class="form-control">
      </div>
      <div class="col-md-6">
        <label class="form-label">Back image (optional)</label>
        <input type="file" name="back_image" accept="image/*" class="form-control">
      </div>
    </div>

    <button class="btn btn-primary mt-3">Analyze</button>
  </form>

  <div class="mt-4 small text-muted">
    Tips: shoot straight on, good lighting, full card visible (no heavy crops), avoid glare & blur.
  </div>
</div>
{% endblock %}
